<body class="body">
  <!-- Contenedor de Data Wall -->
  <div class="data-wall-container">
    <div class="data-wall-content">
      <h2>Información Personal</h2>
      <div *ngIf="persona">
        <div class="info-container">
          <div class="info-text">
            <p><strong>Identificación:</strong> {{ persona.identificacion }}</p>
            <p><strong>Nombres:</strong> {{ persona.nombres }}</p>
            <p><strong>Apellidos:</strong> {{ persona.apellidos }}</p>
            <p><strong>Teléfono:</strong> {{ persona.telefono }}</p>
            <p><strong>Whatsapp:</strong> {{ persona.whatsapp }}</p>
            <p><strong>Correo:</strong> {{ persona.correo }}</p>
            <p><strong>Facebook:</strong> {{ persona.facebook }}</p>
            <p><strong>Instagram:</strong> {{ persona.instagram }}</p>
            <p><strong>Fecha de Nacimiento:</strong> {{ persona.fecha_nacimiento }}</p>
            <p><strong>Tipo de Documento:</strong> {{ getTipoDocumento(persona.tipo_documento) }}</p>
            <p><strong>Sexo:</strong> {{ getSexo(persona.sexo) }}</p>
            <p><strong>Estado Civil:</strong> {{ getEstadoCivil(persona.estado_civil) }}</p>
            <button class="edit-button" (click)="openEditModal(persona)">Editar</button>
          </div>
          <div class="image-container">
            <img [src]="persona.fotoAsociado ? 'data:image/jpeg;base64,' + persona.fotoAsociado : 'assets/imagenes/no-photo.png'" alt="Foto del Asociado" class="profile-photo">
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div *ngIf="editModalVisible" class="modal">
    <div class="modal-content">
      <span class="close" (click)="closeEditModal()">&times;</span>
      <h2>Editar Información Personal</h2>
      <form (ngSubmit)="submitEditForm()">
        <label for="identificacion">Identificación:</label>
        <input type="text" id="identificacion" name="identificacion" [(ngModel)]="persona.identificacion" required>

        <label for="nombres">Nombres:</label>
        <input type="text" id="nombres" name="nombres" [(ngModel)]="persona.nombres" required>

        <label for="apellidos">Apellidos:</label>
        <input type="text" id="apellidos" name="apellidos" [(ngModel)]="persona.apellidos" required>

        <label for="telefono">Teléfono:</label>
        <input type="text" id="telefono" name="telefono" [(ngModel)]="persona.telefono">

        <label for="fecha_nacimiento">Fecha de Nacimiento:</label>
        <input type="date" id="fecha_nacimiento" [(ngModel)]="persona.fecha_nacimiento" name="fecha_nacimiento" required>

        <label for="tipo_documento">Tipo de Documento:</label>
        <select [(ngModel)]="persona.tipo_documento" id="tipo_documento" name="tipo_documento" required>
          <option *ngFor="let tipoDocumento of tipoDocumentos" [value]="tipoDocumento.id">{{tipoDocumento.tipo_documento}}</option>
        </select>

        <label for="sexo">Sexo:</label>
        <select [(ngModel)]="persona.sexo" id="sexo" name="sexo" required>
          <option *ngFor="let sexo of sexos" [value]="sexo.id">{{sexo.sexo}}</option>
        </select>

        <label for="estado_civil">Estado Civil:</label>
        <select [(ngModel)]="persona.estado_civil" id="estado_civil" name="estado_civil" required>
          <option *ngFor="let estadoCivil of estadosCiviles" [value]="estadoCivil.id">{{estadoCivil.estado_civil}}</option>
        </select>
        <label for="foto">Seleccionar Foto:</label>
        <input type="file" id="foto" (change)="onFileSelected($event)">

        <button type="submit">Guardar</button>
      </form>
    </div>
  </div>
</body>
